<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ø£Ù†Ø´Ø¦ ÙƒØ±Øª Ø´Ø®ØµÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ Ù…Ø¬Ø§Ù†Ø§Ù‹ - ØªØµÙ…ÙŠÙ… ÙØ±ÙŠØ¯ Ø¨Ø¯ÙˆÙ† Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ | Ù…ÙˆÙ„Ø¯ Ø¨Ø·Ø§Ù‚Ø§Øª Ø¹Ù…Ù„ Ø±Ù‚Ù…ÙŠØ© Ø¨ØªØµØ§Ù…ÙŠÙ… Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„ØªØ­Ù…ÙŠÙ„">
    <meta name="keywords" content="ÙƒØ±Øª Ø¹Ù…Ù„, Ø¨Ø·Ø§Ù‚Ø© Ø´Ø®ØµÙŠØ©, ØªØµÙ…ÙŠÙ… ÙƒØ±Øª, Ù†Ù…ÙˆØ°Ø¬ ÙƒØ±Øª Ø´Ø®ØµÙŠ, Ø¨Ø·Ø§Ù‚Ø© Ø¹Ù…Ù„ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©">
    <title>Ù…ÙˆÙ„Ø¯ Ø¨Ø·Ø§Ù‚Ø© Ø¹Ù…Ù„ Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù…Ø¬Ø§Ù†ÙŠ - ØªØµÙ…ÙŠÙ… ÙƒØ±ÙˆØª Ø´Ø®ØµÙŠØ© Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&family=El+Messiri:wght@500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-blue: #2563eb;
            --dark-blue: #1e40af;
            --dark-gray: #1f2937;
            --light-gray: #f3f4f6;
            --gold-accent: #d97706;
            --white: #ffffff;
            --border-color: #e5e7eb;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #f9fafb;
            color: #111827;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        h1, h2, h3 {
            font-family: 'El Messiri', sans-serif;
            color: var(--dark-gray);
        }
        
        h1 {
            text-align: center;
            margin-bottom: 2rem;
            font-weight: 600;
            font-size: 2rem;
        }
        
        h2 {
            color: var(--dark-blue);
            text-align: center;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }
        
        h3 {
            color: var(--primary-blue);
            margin-bottom: 0.5rem;
            font-size: 1.3rem;
        }
        
        .card-creator {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            background: var(--white);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .form-section {
            flex: 1;
            min-width: 300px;
        }
        
        .preview-section {
            flex: 1;
            min-width: 300px;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .form-group {
            margin-bottom: 1.25rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--dark-gray);
            font-size: 0.9rem;
        }
        
        input, select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-family: inherit;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            text-align: right;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        button {
            background-color: var(--primary-blue);
            color: var(--white);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            width: 100%;
            font-family: 'Tajawal', sans-serif;
        }
        
        button:hover {
            background-color: var(--dark-blue);
            transform: translateY(-1px);
        }
        
        #downloadBtn, #shareBtn {
            background-color: var(--dark-gray);
        }
        
        #downloadBtn:hover, #shareBtn:hover {
            background-color: #111827;
        }
        
        .card-preview {
            border: 1px dashed var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            background-color: #f9fafb;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 400px;
        }
        
        .card-actions {
            display: flex;
            gap: 1rem;
        }
        
        canvas {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        /* Ø§Ù„ØªØ³ÙˆÙŠÙ‚ */
        .marketing-section {
            background-color: #f8fafc;
            padding: 3rem 0;
            margin-top: 3rem;
            border-top: 3px solid var(--primary-blue);
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        
        .feature-card {
            background: var(--white);
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .seo-content {
            margin-top: 2.5rem;
            background: var(--white);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }
        
        ol {
            color: #4b5563;
            line-height: 1.7;
            padding-right: 1rem;
        }
        
        ol li {
            margin-bottom: 0.5rem;
        }
        
        .seo-tags {
            color: #4b5563;
            line-height: 1.7;
            margin-top: 1rem;
            font-weight: 500;
        }
        
        @media (max-width: 768px) {
            .card-creator {
                flex-direction: column;
            }
            
            .card-actions {
                flex-direction: column;
            }
            
            .container {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ù…ÙˆÙ„Ø¯ Ø¨Ø·Ø§Ù‚Ø© Ø¹Ù…Ù„ Ø§Ø­ØªØ±Ø§ÙÙŠØ©</h1>
        
        <div class="card-creator">
            <div class="form-section">
                <form id="cardForm">
                    <div class="form-group">
                        <label for="name">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                        <input type="text" id="name" placeholder="Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="title">Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</label>
                        <input type="text" id="title" placeholder="Ù…Ø·ÙˆØ± Ø¨Ø±Ù…Ø¬ÙŠØ§Øª">
                    </div>
                    
                    <div class="form-group">
                        <label for="company">Ø§Ù„Ø´Ø±ÙƒØ©</label>
                        <input type="text" id="company" placeholder="Ø´Ø±ÙƒØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø­Ø¯ÙˆØ¯Ø©">
                    </div>
                    
                    <div class="form-group">
                        <label for="address">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
                        <input type="text" id="address" placeholder="Ø´Ø§Ø±Ø¹ Ø§Ù„Ù…Ù„Ùƒ ÙÙ‡Ø¯ØŒ Ø§Ù„Ø±ÙŠØ§Ø¶">
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</label>
                        <input type="tel" id="phone" placeholder="+966501234567">
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                        <input type="email" id="email" placeholder="example@company.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="website">Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                        <input type="url" id="website" placeholder="https://company.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="photo">Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ© (Ù…Ø±Ø¨Ø¹Ø©)</label>
                        <input type="file" id="photo" accept="image/*">
                    </div>
                    
                    <div class="form-group">
                        <label for="logo">Ø±ÙØ¹ Ø§Ù„Ø´Ø¹Ø§Ø± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                        <input type="file" id="logo" accept="image/*">
                    </div>
                    
                    <div class="form-group">
                        <label for="template">Ø§Ø®ØªØ± Ø§Ù„ØªØµÙ…ÙŠÙ…</label>
                        <select id="template">
                            <option value="modern-blue">Ø£Ø²Ø±Ù‚ Ø§Ø­ØªØ±Ø§ÙÙŠ</option>
                            <option value="professional-dark">Ø¯Ø§ÙƒÙ† Ø£Ù†ÙŠÙ‚</option>
                            <option value="minimal-white">Ø£Ø¨ÙŠØ¶ Ø¨Ø³ÙŠØ·</option>
                            <option value="gold-accent">Ø°Ù‡Ø¨ÙŠ Ù…Ù…ÙŠØ²</option>
                            <option value="corporate">ØªØµÙ…ÙŠÙ… Ù…Ø¤Ø³Ø³ÙŠ</option>
                        </select>
                    </div>
                    
                    <button type="button" id="generateBtn">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</button>
                </form>
            </div>
            
            <div class="preview-section">
                <div class="card-preview">
                    <canvas id="cardCanvas" width="600" height="380"></canvas>
                </div>
                <div class="card-actions">
                    <button id="downloadBtn" disabled>ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</button>
                    <button id="shareBtn" disabled>Ù…Ø´Ø§Ø±ÙƒØ©</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ø§Ù„Ù‚Ø³Ù… Ø§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠ -->
    <div class="marketing-section">
        <div class="container">
            <h2>Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø± Ù…ÙˆÙ„Ø¯ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø®Ø§Øµ Ø¨Ù†Ø§ØŸ</h2>
            
            <div class="features-grid">
                <div class="feature-card">
                    <h3>ğŸ›¡ï¸ Ø®ØµÙˆØµÙŠØ© Ù…Ø¶Ù…ÙˆÙ†Ø©</h3>
                    <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¨Ù‚Ù‰ ÙÙŠ Ø¬Ù‡Ø§Ø²ÙƒØŒ Ù„Ø§ Ù†Ù‚ÙˆÙ… Ø¨Ø­ÙØ¸ Ø£Ùˆ ØªØ®Ø²ÙŠÙ† Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØªÙ‚Ø¯Ù…Ù‡Ø§. Ø§Ù„ØªØµÙ…ÙŠÙ… ÙŠØªÙ… Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡ Ù…Ø¨Ø§Ø´Ø±Ø© ÙÙŠ Ù…ØªØµÙØ­Ùƒ Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ù„Ø®ÙˆØ§Ø¯Ù…Ù†Ø§.</p>
                </div>
                
                <div class="feature-card">
                    <h3>ğŸ¨ ØªØµØ§Ù…ÙŠÙ… Ø§Ø­ØªØ±Ø§ÙÙŠØ©</h3>
                    <p>Ø§Ø®ØªØ± Ù…Ù† Ø¨ÙŠÙ† Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ù…ØµÙ…Ù…Ø© Ø¨Ø¹Ù†Ø§ÙŠØ© Ù„ØªÙ„Ø¨ÙŠ Ù…Ø®ØªÙ„Ù Ø§Ù„Ø£Ø°ÙˆØ§Ù‚ ÙˆØ§Ù„Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ©. ØªØ­Ø¯Ø« Ø¨Ø·Ø§Ù‚ØªÙƒ Ù…Ø¹ ÙƒÙ„ ØªÙØµÙŠÙ„.</p>
                </div>
                
                <div class="feature-card">
                    <h3>âš¡ Ø³Ø±ÙŠØ¹ ÙˆØ³Ù‡Ù„</h3>
                    <p>Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø£Ùˆ Ø¹Ù…Ù„ÙŠØ§Øª Ù…Ø¹Ù‚Ø¯Ø©. Ø£Ù†Ø´Ø¦ Ø¨Ø·Ø§Ù‚ØªÙƒ ÙÙŠ Ø¯Ù‚Ø§Ø¦Ù‚ ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ù Ø¬Ø§Ù‡Ø² Ù„Ù„Ø·Ø¨Ø§Ø¹Ø© Ø£Ùˆ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©.</p>
                </div>
                
                <div class="feature-card">
                    <h3>ğŸ’¼ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£ØºØ±Ø§Ø¶</h3>
                    <p>Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ù‡Ù†ÙŠÙŠÙ†ØŒ Ø±ÙˆØ§Ø¯ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ØŒ Ø§Ù„Ø·Ù„Ø§Ø¨ØŒ ÙˆØ£ÙŠ Ø´Ø®Øµ ÙŠØ­ØªØ§Ø¬ Ù„Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙ‡ Ø¨Ø´ÙƒÙ„ Ø£Ù†ÙŠÙ‚ ÙˆÙ…Ù‡Ù†ÙŠ.</p>
                </div>
                
                <div class="feature-card">
                    <h3>ğŸ’° Ù…Ø¬Ø§Ù†ÙŠ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</h3>
                    <p>Ø®Ø¯Ù…Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ø¨Ø¯ÙˆÙ† Ø±Ø³ÙˆÙ… Ø®ÙÙŠØ© Ø£Ùˆ Ø§Ø´ØªØ±Ø§ÙƒØ§Øª. Ø£Ù†Ø´Ø¦ Ø¹Ø¯Ø¯ ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯ Ù…Ù† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø¯ÙˆÙ† Ø£ÙŠ ØªÙƒÙ„ÙØ©.</p>
                </div>
                
                <div class="feature-card">
                    <h3>ğŸ“± Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</h3>
                    <p>ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø­ÙˆØ§Ø³ÙŠØ¨ØŒ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù„ÙˆØ­ÙŠØ© ÙˆØ§Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„Ø°ÙƒÙŠØ©. ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨ ÙŠØ¶Ù…Ù† ØªØ¬Ø±Ø¨Ø© Ù…Ù…ØªØ§Ø²Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª.</p>
                </div>
            </div>
            
            <div class="seo-content">
                <h3>ÙƒÙŠÙÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ ÙƒØ±Øª Ø´Ø®ØµÙŠ Ù…Ù…ÙŠØ²:</h3>
                <ol>
                    <li>Ø£Ø¯Ø®Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„ÙˆØ¸ÙŠÙØ©ØŒ Ø¬Ù‡Ø© Ø§Ù„Ø¹Ù…Ù„)</li>
                    <li>Ø£Ø¶Ù Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ (Ù‡Ø§ØªÙØŒ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØŒ Ù…ÙˆÙ‚Ø¹)</li>
                    <li>Ø§Ø®ØªØ± ØªØµÙ…ÙŠÙ…Ø§Ù‹ ÙŠÙ†Ø§Ø³Ø¨ Ù…Ø¬Ø§Ù„ Ø¹Ù…Ù„Ùƒ</li>
                    <li>Ù‚Ù… Ø¨Ø±ÙØ¹ ØµÙˆØ±ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ© ÙˆØ´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¤Ø³Ø³Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</li>
                    <li>Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ "Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©" Ø«Ù… Ø­Ù…Ù„Ù‡Ø§ Ø£Ùˆ Ø´Ø§Ø±ÙƒÙ‡Ø§ Ù…Ø¨Ø§Ø´Ø±Ø©</li>
                </ol>
                <p class="seo-tags">
                    <strong>Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¨Ø­Ø«:</strong> ÙƒØ±ÙˆØª Ø¹Ù…Ù„ - ØªØµÙ…ÙŠÙ… Ø¨Ø·Ø§Ù‚Ø© Ø´Ø®ØµÙŠØ© Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† - Ù…ÙˆÙ„Ø¯ ÙƒØ±ÙˆØª Ù…Ø¬Ø§Ù†ÙŠ - Ù†Ù…ÙˆØ°Ø¬ ÙƒØ±Øª Ø´Ø®ØµÙŠ Ø¬Ø§Ù‡Ø² - Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© Ø¹Ù…Ù„ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© - ÙƒØ±Øª Ø´Ø®ØµÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ
                </p>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const generateBtn = document.getElementById('generateBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const shareBtn = document.getElementById('shareBtn');
            const canvas = document.getElementById('cardCanvas');
            const ctx = canvas.getContext('2d');
            
            let cardGenerated = false;
            let photoImg = null;
            let logoImg = null;
            
            // Image loading handlers
            document.getElementById('photo').addEventListener('change', function(e) {
                if (e.target.files && e.target.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        photoImg = new Image();
                        photoImg.onload = function() {
                            if (document.getElementById('name').value) {
                                generateBtn.click();
                            }
                        };
                        photoImg.src = event.target.result;
                    };
                    reader.readAsDataURL(e.target.files[0]);
                }
            });
            
            document.getElementById('logo').addEventListener('change', function(e) {
                if (e.target.files && e.target.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        logoImg = new Image();
                        logoImg.onload = function() {
                            if (document.getElementById('name').value) {
                                generateBtn.click();
                            }
                        };
                        logoImg.src = event.target.result;
                    };
                    reader.readAsDataURL(e.target.files[0]);
                }
            });
            
            // Generate card
            generateBtn.addEventListener('click', function() {
                const name = document.getElementById('name').value;
                const title = document.getElementById('title').value;
                const company = document.getElementById('company').value;
                const address = document.getElementById('address').value;
                const phone = document.getElementById('phone').value;
                const email = document.getElementById('email').value;
                const website = document.getElementById('website').value;
                const template = document.getElementById('template').value;
                
                if (!name) {
                    alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù…');
                    return;
                }
                
                drawProfessionalCard({
                    name,
                    title,
                    company,
                    address,
                    phone,
                    email,
                    website,
                    template
                });
                
                cardGenerated = true;
                downloadBtn.disabled = false;
                shareBtn.disabled = false;
            });
            
            // Professional card drawing function
            function drawProfessionalCard(data) {
                // Clear canvas
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Apply template background
                applyTemplateDesign(data.template);
                
                // Draw all elements
                drawCardElements(data);
            }
            
            function applyTemplateDesign(template) {
                const width = canvas.width;
                const height = canvas.height;
                
                switch(template) {
                    case 'modern-blue':
                        // Blue gradient background
                        const blueGradient = ctx.createLinearGradient(width, 0, 0, height);
                        blueGradient.addColorStop(0, '#2563eb');
                        blueGradient.addColorStop(1, '#1e40af');
                        ctx.fillStyle = blueGradient;
                        ctx.fillRect(0, 0, width, height);
                        
                        // Decorative elements
                        ctx.fillStyle = 'rgba(255, 255, 255, 0.1)';
                        drawGeometricPattern();
                        break;
                        
                    case 'professional-dark':
                        // Dark background
                        ctx.fillStyle = '#1f2937';
                        ctx.fillRect(0, 0, width, height);
                        
                        // Gold accent line
                        ctx.fillStyle = '#d97706';
                        ctx.fillRect(0, 0, 8, height);
                        break;
                        
                    case 'minimal-white':
                        // White background with border
                        ctx.fillStyle = '#ffffff';
                        ctx.fillRect(0, 0, width, height);
                        ctx.strokeStyle = '#e5e7eb';
                        ctx.lineWidth = 2;
                        ctx.strokeRect(10, 10, width - 20, height - 20);
                        break;
                        
                    case 'gold-accent':
                        // Gold accent design
                        ctx.fillStyle = '#1f2937';
                        ctx.fillRect(0, 0, width, height);
                        
                        // Gold right sidebar
                        ctx.fillStyle = 'rgba(217, 119, 6, 0.2)';
                        ctx.fillRect(width - 100, 0, 100, height);
                        break;
                        
                    case 'corporate':
                        // Corporate style with left third for photo
                        ctx.fillStyle = '#ffffff';
                        ctx.fillRect(0, 0, width, height);
                        
                        // Blue left sidebar
                        ctx.fillStyle = '#2563eb';
                        ctx.fillRect(0, 0, width * 0.33, height);
                        break;
                        
                    default:
                        ctx.fillStyle = '#2563eb';
                        ctx.fillRect(0, 0, width, height);
                }
            }
            
            function drawGeometricPattern() {
                const size = 80;
                const width = canvas.width;
                const height = canvas.height;
                
                for (let y = 0; y < height + size; y += size) {
                    for (let x = 0; x < width + size; x += size) {
                        ctx.beginPath();
                        ctx.moveTo(x, y);
                        ctx.lineTo(x - size/2, y + size/2);
                        ctx.lineTo(x, y + size);
                        ctx.lineTo(x + size/2, y + size/2);
                        ctx.closePath();
                        ctx.fill();
                    }
                }
            }
            
            function drawCardElements(data) {
                const width = canvas.width;
                const height = canvas.height;
                const template = data.template;
                
                // Determine colors based on template
                let textColor, secondaryTextColor, accentColor;
                
                if (template === 'minimal-white' || template === 'corporate') {
                    textColor = '#1f2937';
                    secondaryTextColor = '#4b5563';
                    accentColor = '#2563eb';
                } else {
                    textColor = '#ffffff';
                    secondaryTextColor = 'rgba(255, 255, 255, 0.8)';
                    accentColor = '#fbbf24';
                }
                
                // Corporate layout has special styling
                const isCorporateLayout = template === 'corporate';
                
                // Draw logo (if exists) - top left
                if (logoImg) {
                    const logoWidth = 80;
                    const logoHeight = logoWidth * (logoImg.height / logoImg.width);
                    const logoX = isCorporateLayout ? 20 : 30;
                    const logoY = 30;
                    
                    ctx.drawImage(logoImg, logoX, logoY, logoWidth, logoHeight);
                }
                
                // Draw photo (if exists) - left third
                if (photoImg) {
                    const photoSize = isCorporateLayout ? 150 : 120;
                    const photoX = isCorporateLayout ? width * 0.165 - photoSize/2 : 40;
                    const photoY = isCorporateLayout ? height/2 - photoSize/2 : 100;
                    
                    // Circular photo mask
                    ctx.save();
                    ctx.beginPath();
                    ctx.arc(
                        photoX + photoSize/2, 
                        photoY + photoSize/2, 
                        photoSize/2, 
                        0, 
                        Math.PI * 2
                    );
                    ctx.closePath();
                    ctx.clip();
                    
                    ctx.drawImage(photoImg, photoX, photoY, photoSize, photoSize);
                    ctx.restore();
                    
                    // Photo border
                    ctx.beginPath();
                    ctx.arc(
                        photoX + photoSize/2, 
                        photoY + photoSize/2, 
                        photoSize/2, 
                        0, 
                        Math.PI * 2
                    );
                    ctx.strokeStyle = isCorporateLayout ? '#ffffff' : accentColor;
                    ctx.lineWidth = 3;
                    ctx.stroke();
                }
                
                // Text positioning - right two thirds
                const textX = isCorporateLayout ? width * 0.4 : width * 0.35;
                let textY = isCorporateLayout ? 100 : 120;
                
                // Name
                ctx.font = `bold ${isCorporateLayout ? '28px' : '26px'} 'El Messiri', sans-serif`;
                ctx.fillStyle = isCorporateLayout ? '#1f2937' : textColor;
                ctx.textAlign = 'right';
                ctx.fillText(data.name, width - 40, textY);
                textY += isCorporateLayout ? 40 : 35;
                
                // Title
                if (data.title) {
                    ctx.font = `600 ${isCorporateLayout ? '16px' : '15px'} 'Tajawal', sans-serif`;
                    ctx.fillStyle = isCorporateLayout ? '#4b5563' : accentColor;
                    ctx.fillText(data.title, width - 40, textY);
                    textY += isCorporateLayout ? 30 : 28;
                }
                
                // Company
                if (data.company) {
                    ctx.font = `600 ${isCorporateLayout ? '16px' : '15px'} 'Tajawal', sans-serif`;
                    ctx.fillStyle = isCorporateLayout ? '#1f2937' : textColor;
                    ctx.fillText(data.company, width - 40, textY);
                    textY += isCorporateLayout ? 30 : 28;
                }
                
                // Divider line
                ctx.strokeStyle = isCorporateLayout ? '#d1d5db' : accentColor;
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(width - 200, textY - 10);
                ctx.lineTo(width - 40, textY - 10);
                ctx.stroke();
                textY += 20;
                
                // Contact info
                ctx.font = `500 ${isCorporateLayout ? '13px' : '14px'} 'Tajawal', sans-serif`;
                ctx.fillStyle = isCorporateLayout ? '#4b5563' : secondaryTextColor;
                
                if (data.phone) {
                    ctx.fillText(`ğŸ“± ${data.phone}`, width - 40, textY);
                    textY += 25;
                }
                
                if (data.email) {
                    ctx.fillText(`âœ‰ï¸ ${data.email}`, width - 40, textY);
                    textY += 25;
                }
                
                if (data.website) {
                    ctx.fillText(`ğŸŒ ${data.website.replace(/^https?:\/\//, '')}`, width - 40, textY);
                    textY += 25;
                }
                
                if (data.address) {
                    ctx.fillText(`ğŸ“ ${data.address}`, width - 40, textY);
                }
            }
            
            // Download functionality
            downloadBtn.addEventListener('click', function() {
                if (!cardGenerated) return;
                
                const link = document.createElement('a');
                link.download = `${document.getElementById('name').value || 'business'}-card.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
            });
            
            // Share functionality
            shareBtn.addEventListener('click', function() {
                if (!cardGenerated) return;
                
                if (navigator.share) {
                    canvas.toBlob(function(blob) {
                        const fileName = `${document.getElementById('name').value || 'business'}-card.png`;
                        const file = new File([blob], fileName, { type: 'image/png' });
                        
                        navigator.share({
                            title: 'Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙŠ',
                            text: 'Ø§Ø·Ù„Ø¹ Ø¹Ù„Ù‰ Ø¨Ø·Ø§Ù‚Ø© Ø¹Ù…Ù„ÙŠ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©!',
                            files: [file]
                        }).catch(err => {
                            console.log('Error sharing:', err);
                            alert('ÙØ´Ù„Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©. ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙ‡Ø§ ÙŠØ¯ÙˆÙŠØ§Ù‹.');
                        });
                    });
                } else {
                    alert('Ù…ÙŠØ²Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ØºÙŠØ± Ù…ØªØ§Ø­Ø©. ÙŠØ±Ø¬Ù‰ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø£ÙˆÙ„Ø§Ù‹.');
                }
            });
        });
    </script>
</body>
</html>
